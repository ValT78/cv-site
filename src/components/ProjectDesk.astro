---
import { projects } from '../data/projects.ts';
import ProjectCard from './ProjectCard.svelte';
---

<section id="projects" class="relative py-20 overflow-hidden">
  <div class="absolute inset-0 bg-gradient-to-br from-gray-800 to-blue-800 opacity-90"></div>

  <!-- Fond pattern animÃ© -->
  <svg class="absolute inset-0 w-full h-full opacity-10 animate-spin-slow" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
        <path d="M0 50 L50 50 L50 0" stroke="#fff" stroke-width="0.5"/>
      </pattern>
    </defs>
    <rect width="100%" height="100%" fill="url(#grid)" />
  </svg>

  <div class="relative max-w-8xl mx-auto px-4 z-20">
    <h2 class="text-4xl font-bold text-white mb-16 text-center">Projets Personnels</h2>

    {projects.map((group: { title: unknown; projects: any[]; }) => (
      <div class="mb-12">
        <h3 class="text-3xl font-semibold text-center text-amber-400 mb-6">{group.title}</h3>
        <div class="flex flex-wrap gap-6">
          {group.projects.map(proj => (
            <ProjectCard proj={proj} client:load />
          ))}
        </div>
      </div>
    ))}
  </div>
</section>
