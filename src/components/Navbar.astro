---
import Dropdown from './Dropdown.svelte';
import NavButton from './NavButton.astro';

const navLinks = [
  { label: 'Accueil', href: '#hero', icon: 'üè†' },
  { label: 'Exp√©riences', href: '#experience', icon: 'üìú' },
  { label: 'Projets', href: '#projects', icon: 'üõ†Ô∏è' },
];
---
<header class="fixed top-0 left-0 w-full bg-gray-800 shadow-md z-50 h-[12vh] min-h-[48px] lg:backdrop-blur-sm">
  <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between h-full">

    <!-- LOGO -->
    <a href="/" class="font-bold text-blue-500 hover:text-amber-400 transition-colors text-xl sm:text-2xl lg:text-3xl">
      Valentin‚ÄØLantigny
    </a>

    <nav class="hidden lg:flex items-center space-x-4">
      <!-- Desktop Links -->
      {navLinks.map(link => (
        <a href={link.href}
          class="text-sky-200 font-bold hover:text-amber-400 transition-colors relative
            after:block after:h-0.5 after:bg-amber-400 after:scale-x-0 hover:after:scale-x-100 after:origin-left after:transition-transform
            transform hover:-translate-y-1 transition-transform duration-300">
          <span class="text-2xl">{link.icon}</span>
          <span>{link.label}</span>
        </a>
      ))}

      <Dropdown client:load
        mainText="Contactez moi"
        subTexts={[
          { text: 'Email', url: 'mailto:v.lantigny@gmail.com' },
          { text: 'LinkedIn', url: 'https://linkedin.com/in/valentin-lantigny' }
        ]}
      />  

      <Dropdown client:load
        mainText="Autres Liens"
        subTexts={[
          { text: 'CV', url: '/CV.pdf' },
          { text: 'Itch', url: 'https://valt7.itch.io/' }
        ]}
      />

      <!-- GitHub -->
      <a href="https://github.com/ValT78" target="_blank"
        class="flex items-center gap-2 text-sky-200 hover:text-amber-400 transition-colors duration-300
        transform hover:-translate-y-1 transition-transform relative group">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 .5C5.7.5.5 5.7.5 12c0 5.1 3.3 9.4 7.9 10.9.6.1.8-.3.8-.6v-2.2c-3.2.7-3.9-1.5-3.9-1.5-.5-1.3-1.2-1.6-1.2-1.6-1-.7.1-.7.1-.7 1.1.1 1.6 1.1 1.6 1.1 1 .1.7 1.6 1.8 2.2 1.3.5 2.3.2 2.8 0 .1-.9.4-1.5.8-1.8-2.6-.3-5.4-1.3-5.4-5.8 0-1.3.5-2.3 1.2-3.1-.1-.3-.5-1.6.1-3.2 0 0 1-.3 3.3 1.2 1-.3 2-.5 3-.5s2 .2 3 .5c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.9.1 3.2.7.8 1.2 1.8 1.2 3.1 0 4.5-2.8 5.5-5.4 5.8.5.4.9 1.1.9 2.2v3.3c0 .3.2.7.8.6 4.6-1.5 7.9-5.8 7.9-10.9C23.5 5.7 18.3.5 12 .5z"/>
        </svg>
        <span><strong>Mon GitHub</strong></span>
        <span class="absolute right-0 -bottom-1 w-0 h-0.5 bg-amber-400 transition-all duration-300 group-hover:w-full"></span>
      </a>
    </nav>

    <NavButton class="lg:hidden" />
  </div>

  <nav id="phone-menu" aria-hidden="true" class="aria-hidden:hidden relative w-full bg-gray-800">
    <div class="flex flex-col items-center justify-center h-full">
      <ul class="flex flex-col items-center justify-center leading-8 space-y-2 text-center text-sm">
        <div class="w-screen h-[1px] bg-white/10"></div>

        {navLinks.map(link => (
          <a href={link.href}
            class="text-sky-200 hover:text-amber-400 transition-colors relative font-bold
              after:block after:h-0.5 after:bg-amber-400 after:scale-x-0 hover:after:scale-x-100 after:origin-left after:transition-transform
              transform hover:-translate-y-1 transition-transform duration-300">
            <span class="text-2xl">{link.icon}</span>
            <span>{link.label}</span>
          </a>
        ))}


        <Dropdown client:load
          mainText="Contactez moi"
          subTexts={[
            { text: 'Email', url: 'mailto:v.lantigny@gmail.com' },
            { text: 'LinkedIn', url: 'https://linkedin.com/in/valentin-lantigny' }
          ]}
        />  


        <Dropdown client:load
          mainText="Autres Liens"
          subTexts={[
            { text: 'CV', url: '/CV.pdf' },
            { text: 'Itch', url: 'https://valt7.itch.io/' }
          ]}
        />
      </ul>
        <div class="w-screen h-[1px] bg-white/10"></div>

      <!-- GitHub -->
      <div class="flex justify-center mt-4 mb-4">
        <a href="https://github.com/ValT78" target="_blank"
          class="flex items-center gap-2 text-sky-200 hover:text-amber-400 transition-colors duration-300
            transform hover:-translate-y-1 transition-transform relative group">
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 .5C5.7.5.5 5.7.5 12c0 5.1 3.3 9.4 7.9 10.9.6.1.8-.3.8-.6v-2.2c-3.2.7-3.9-1.5-3.9-1.5-.5-1.3-1.2-1.6-1.2-1.6-1-.7.1-.7.1-.7 1.1.1 1.6 1.1 1.6 1.1 1 .1.7 1.6 1.8 2.2 1.3.5 2.3.2 2.8 0 .1-.9.4-1.5.8-1.8-2.6-.3-5.4-1.3-5.4-5.8 0-1.3.5-2.3 1.2-3.1-.1-.3-.5-1.6.1-3.2 0 0 1-.3 3.3 1.2 1-.3 2-.5 3-.5s2 .2 3 .5c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.9.1 3.2.7.8 1.2 1.8 1.2 3.1 0 4.5-2.8 5.5-5.4 5.8.5.4.9 1.1.9 2.2v3.3c0 .3.2.7.8.6 4.6-1.5 7.9-5.8 7.9-10.9C23.5 5.7 18.3.5 12 .5z"/>
          </svg>
          <span class="font-bold">Mon GitHub</span>
          <span class="absolute right-0 -bottom-1 w-0 h-0.5 bg-amber-400 transition-all duration-300 group-hover:w-full"></span>
        </a>
      </div>
    </div>
  </nav>
</header>
